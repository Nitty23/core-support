<article class="article-space">
    {% for topic in datafile %}
        {% for subtopic in topic.subtopics %}
            {% for item in subtopic %}
                {% assign type = item[0] %}
                {% case type %}
                    {% when 'subtitle' %}
                            <header>
                                <h1 class="topic-title">{{ item[1] }}</h1>
                                <p class="topic-subtext">Last updated {{ filemod | date: '%B %d, %Y' }}</p>
                            </header>
                    {% when 'sections' %}
                    {% for section in subtopic.sections %}
                            <section class="sect-space">
                        {% for part in section %}
                            {% assign type = part[0] %}
                            {% case type %}
                                {% when 'sectiontitle' %}
                                    {% if part[1] %}
                                    <header>
                                        <h2 class="subtopic-sect-title">{{ part[1] }}</h2>
                                    </header>
                                    {% else %}                     
                                    {% endif %}
                                {% when 'paratitle' %}
                                    <h3 class="para-title">{{ part[1] }}</h3>
                                {% when 'note' %}
                                    <div class="topic-text-note">
                                        <div class="supp-post-it">
                                            <strong>Note: </strong>{{ part[1] }}
                                        </div>
                                    </div>
                                {% when 'learn' %}
                                    <div class="topic-text-learn">
                                        <div class="supp-post-it">
                                            {{ part[1] }}. <strong>LEARN MORE ></strong>
                                        </div>
                                    </div>
                                {% when 'itemlist' %}
                                    {% for li in section.itemlist %}   
                                        {% for each in li %}
                                            {% if forloop.first == true %}
                                                <h4 class="list-title">{{ each[1] }}:</h4>
                                                <ul>
                                            {% elsif each[0] == 'list' %}
                                                {% for item in li.list %}
                                                    {% if forloop.first == true %} 
                                                    <li class="bullet-item">{{ item[1] }}:</li>
                                                        <ul>
                                                    {% else %}
                                                            <li class="subbullet-item">{{ item[1] }}</li>
                                                    {% endif %}
                                                {% endfor %}
                                                        </ul>
                                            {% else %}
                                                    <li class="bullet-item">{{ each[1] }}</li>
                                            {% endif %}
                                        {% endfor %}
                                                </ul>
                                    {% endfor %}
                                {% when 'numlist' %}
                                    {% for li in section.numlist %}
                                        {% for each in li %}
                                            {% if forloop.first == true %}
                                                <h4 class="list-title">{{ each[1] }}:</h4>
                                                <ol>
                                            {% elsif each[0] == 'list' %}
                                                {% for item in li.list %}
                                                    {% if forloop.first == true %}
                                                    <li class="num-item">{{ item[1] }}:</li>
                                                        <ul>
                                                    {% else %}
                                                            <li class="subbullet-item">{{ item[1] }}</li>
                                                    {% endif %}
                                                {% endfor %}
                                                        </ul>
                                            {% else %}
                                                    <li class="num-item">&nbsp{{ each[1] }}</li>
                                            {% endif %}
                                        {% endfor %}
                                                </ol>
                                    {% endfor %}
                                {% else %}
                                    <p>{{ part[1] }}</p>
                            {% endcase %}
                        {% endfor %}
                            </section>
                    {% endfor %}
                {% endcase %}
            {% endfor %}
        {% endfor %}
    {% endfor %}
</article>